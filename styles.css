// Survey questions array
const questions = [
    "We have a clear picture of our cost of culture...",
    "We have clear metrics in place to determine the profit impact...",
    "Our mission, vision and values are easily translated...",
    "We are confident that we are maximizing our efforts...",
    "We have Culture KPIs and can ensure an effective ROI...",
    "Since COVID happened, there is a distinctive change...",
    "When budget time comes around, culture is easily accounted for...",
    "We have an easy system and process for measuring...",
    "The brand of our company matches the culture...",
    "Most culture issues we have are Operations' related."
];

// Function to create question elements
function createQuestions() {
    const questionsContainer = document.querySelector('.questions');
    
    questions.forEach((question, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'question';
        
        const questionText = document.createElement('p');
        questionText.textContent = `Q${index + 1}. ${question}`;
        
        const ratingDiv = document.createElement('div');
        ratingDiv.className = 'rating';
        
        // Create radio buttons 1-10
        for (let i = 1; i <= 10; i++) {
            const input = document.createElement('input');
            input.type = 'radio';
            input.name = `q${index + 1}`;
            input.value = i;
            input.required = true;
            ratingDiv.appendChild(input);
        }
        
        questionDiv.appendChild(questionText);
        questionDiv.appendChild(ratingDiv);
        questionsContainer.appendChild(questionDiv);
    });
}

// Form submission handler
document.getElementById('surveyForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Collect form data
    const formData = new FormData(this);
    const results = {
        personalInfo: {
            name: formData.get('name'),
            company: formData.get('company'),
            email: formData.get('email'),
            role: formData.get('role')
        },
        answers: {}
    };
    
    // Collect answers
    questions.forEach((_, index) => {
        results.answers[`q${index + 1}`] = formData.get(`q${index + 1}`);
    });
    
    // Here you would typically send the results to your backend
    console.log('Survey Results:', results);
    alert('Thank you for completing the survey! Your snapshot will be generated shortly.');
});

// Initialize questions when the page loads
document.addEventListener('DOMContentLoaded', createQuestions);
